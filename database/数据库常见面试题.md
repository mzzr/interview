# 数据库常见面试题
- 数据库的事务隔离级别

Read uncommitted 读未提交
读取到未提交的事务修改，造成脏读

Read committed 读已提交
读取到已提交的事务修改，造成不可重复读

Repeatable Read 可重复读
事务开始后，读取到的数据不变，但可能出现幻读

Serializable 串行化
Serializable 是最高的事务隔离级别，同时代价也花费最高，性能很低，一般很少使用，在该级别下，事务顺序执行，不仅可以避免脏读、不可重复读，还避免了幻读。

1.脏读：
脏读就是指当一个事务正在访问数据，并且对数据进行了修改，而这种修改还没有提交到数据库中，这时，另外一个事务也访问这个数据，然后使用了这个数据。


2.不可重复读：
是指在一个事务内，多次读同一数据。在这个事务还没有结束时，另外一个事务也访问该同一数据。那么，在第一个事务中的两次读数据之间，由于第二个事务的修改，那么第一个事务两次读到的的数据可能是不一样的。这样就发生了在一个事务内两次读到的数据是不一样的，因此称为是不可重复读。（即不能读到相同的数据内容）


3.幻读:
是指当事务不是独立执行时发生的一种现象，例如第一个事务对一个表中的数据进行了修改，这种修改涉及到表中的全部数据行。同时，第二个事务也修改这个表中的数据，这种修改是向表中插入一行新数据。那么，以后就会发生操作第一个事务的用户发现表中还有没有修改的数据行，就好象
发生了幻觉一样。


- 索引结构：b树、b+树

b树（balance tree）和b+树应用在数据库索引，可以认为是m叉的多路平衡查找树，但是从理论上讲，二叉树查找速度和比较次数都是最小的，为什么不用二叉树呢？ 
因为我们要考虑磁盘IO的影响，它相对于内存来说是很慢的。数据库索引是存储在磁盘上的，当数据量大时，就不能把整个索引全部加载到内存了，只能逐一加载每一个磁盘页（对应索引树的节点）。所以我们要减少IO次数，对于树来说，IO次数就是树的高度，而“矮胖”就是b树的特征之一，它的每个节点最多包含m个孩子，m称为b树的阶，m的大小取决于磁盘页的大小。

有关b树的一些**特性**，注意与后面的b+树区分：

1.  关键字集合分布在整颗树中；
2.  任何一个关键字出现且只出现在一个结点中；
3.  搜索有可能在非叶子结点结束；
4.  其搜索性能等价于在关键字全集内做一次二分查找；

b+树相比于b树的**查询优势**：

1.  b+树的中间节点不保存数据，所以磁盘页能容纳更多节点元素，更“矮胖”；
2.  b+树查询必须查找到叶子节点，b树只要匹配到即可不用管元素位置，因此b+树查找更稳定（并不慢）；
3.  对于范围查找来说，b+树只需遍历叶子节点链表即可，b树却需要重复地中序遍历